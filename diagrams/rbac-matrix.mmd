graph TB
    %% è§’è‰²ç»§æ‰¿å…³ç³»
    subgraph roles ["è§’è‰²ç»§æ‰¿ä½“ç³»"]
        USER[æ™®é€šç”¨æˆ·]
        SALES[é”€å”®]
        SALES_MGR[é”€å”®ä¸»ç®¡]
        DESIGNER[è®¾è®¡å¸ˆ]
        FINANCE[è´¢åŠ¡]
        ADMIN[ç³»ç»Ÿç®¡ç†å‘˜]

        USER --> SALES
        SALES --> SALES_MGR
        USER --> DESIGNER
        USER --> FINANCE
        USER --> ADMIN
    end

    %% ç³»ç»Ÿèµ„æº
    subgraph resources ["ç³»ç»Ÿèµ„æº"]
        PROJECT_CREATE[é¡¹ç›®åˆ›å»º]
        PROJECT_VIEW[é¡¹ç›®æŸ¥çœ‹]
        PROJECT_EDIT[é¡¹ç›®ç¼–è¾‘]
        PROJECT_DELETE[é¡¹ç›®åˆ é™¤]
        CUSTOMER_MGMT[å®¢æˆ·ç®¡ç†]
        QUOTE_EDIT[æŠ¥ä»·ç®¡ç†]
        FILE_UPLOAD[æ–‡ä»¶ä¸Šä¼ ]
        REPORT_EXPORT[æŠ¥è¡¨å¯¼å‡º]
    end

    %% æƒé™çŸ©é˜µ
    subgraph permissions ["æƒé™çŸ©é˜µ"]
        PERM_MATRIX["
        é”€å”®: âœ…åˆ›å»º âœ…æŸ¥çœ‹è‡ªå·± âœ…ç¼–è¾‘ âŒåˆ é™¤ âœ…å®¢æˆ· âœ…æŠ¥ä»· ðŸŸ¡æ–‡ä»¶ âŒæŠ¥è¡¨
        é”€å”®ä¸»ç®¡: âœ…åˆ›å»º âœ…æŸ¥çœ‹å›¢é˜Ÿ âœ…ç¼–è¾‘ ðŸŸ¡åˆ é™¤ âœ…å®¢æˆ· âœ…æŠ¥ä»· âœ…æ–‡ä»¶ âœ…æŠ¥è¡¨
        è®¾è®¡å¸ˆ: âŒåˆ›å»º âœ…æŸ¥çœ‹ç›¸å…³ ðŸŸ¡ç¼–è¾‘æ–¹æ¡ˆ âŒåˆ é™¤ ðŸŸ¡å®¢æˆ·åªè¯» âŒæŠ¥ä»· âœ…æ–‡ä»¶ âŒæŠ¥è¡¨
        è´¢åŠ¡: âŒåˆ›å»º âœ…æŸ¥çœ‹ç›¸å…³ ðŸŸ¡ç¼–è¾‘ä»·æ ¼ âŒåˆ é™¤ ðŸŸ¡å®¢æˆ·åªè¯» ðŸŸ¡æŠ¥ä»·å®¡æ ¸ âŒæ–‡ä»¶ âœ…æŠ¥è¡¨
        ç³»ç»Ÿç®¡ç†å‘˜: âœ…å…¨éƒ¨æƒé™

        å›¾ä¾‹: âœ…å…è®¸ âŒæ‹’ç» ðŸŸ¡æ¡ä»¶å…è®¸
        "]
    end

    %% Sales Permissions
    SALES -.-> PROJECT_CREATE
    SALES -.-> PROJECT_VIEW
    SALES -.-> PROJECT_EDIT
    SALES -.-> CUSTOMER_MGMT
    SALES -.-> QUOTE_EDIT

    %% Sales Manager Permissions (Inherits + Extended)
    SALES_MGR -.-> PROJECT_DELETE
    SALES_MGR -.-> FILE_UPLOAD
    SALES_MGR -.-> REPORT_EXPORT

    %% Designer Permissions
    DESIGNER -.-> PROJECT_VIEW
    DESIGNER -.-> PROJECT_EDIT
    DESIGNER -.-> FILE_UPLOAD

    %% Finance Permissions
    FINANCE -.-> PROJECT_VIEW
    FINANCE -.-> PROJECT_EDIT
    FINANCE -.-> QUOTE_EDIT
    FINANCE -.-> REPORT_EXPORT

    %% Admin Permissions (All)
    ADMIN -.-> PROJECT_CREATE
    ADMIN -.-> PROJECT_VIEW
    ADMIN -.-> PROJECT_EDIT
    ADMIN -.-> PROJECT_DELETE
    ADMIN -.-> CUSTOMER_MGMT
    ADMIN -.-> QUOTE_EDIT
    ADMIN -.-> FILE_UPLOAD
    ADMIN -.-> REPORT_EXPORT

    %% Styling
    classDef roleNode fill:#e3f2fd,stroke:#1976d2,color:#000
    classDef resourceNode fill:#f3e5f5,stroke:#7b1fa2,color:#000
    classDef adminNode fill:#ffebee,stroke:#d32f2f,color:#000
    classDef matrixNode fill:#fff3e0,stroke:#f57c00,color:#000

    class USER,SALES,SALES_MGR,DESIGNER,FINANCE roleNode
    class PROJECT_CREATE,PROJECT_VIEW,PROJECT_EDIT,PROJECT_DELETE,CUSTOMER_MGMT,QUOTE_EDIT,FILE_UPLOAD,REPORT_EXPORT resourceNode
    class ADMIN adminNode
    class PERM_MATRIX matrixNode
