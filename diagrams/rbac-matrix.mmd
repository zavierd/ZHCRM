graph TB
    %% 角色继承关系
    subgraph roles ["角色继承体系"]
        USER[普通用户]
        SALES[销售]
        SALES_MGR[销售主管]
        DESIGNER[设计师]
        FINANCE[财务]
        ADMIN[系统管理员]

        USER --> SALES
        SALES --> SALES_MGR
        USER --> DESIGNER
        USER --> FINANCE
        USER --> ADMIN
    end

    %% 核心权限资源
    subgraph resources ["核心权限资源"]
        PROJECT[项目管理]
        CUSTOMER[客户管理]
        QUOTE[报价管理]
        FILE[文件管理]
        REPORT[报表管理]
    end

    %% 权限级别说明
    subgraph legend ["权限级别"]
        FULL[完全权限]
        LIMITED[受限权限]
        READONLY[只读权限]
        DENIED[无权限]
    end

    %% 销售权限连接
    SALES --> PROJECT
    SALES --> CUSTOMER
    SALES --> QUOTE
    SALES -.-> FILE

    %% 销售主管权限（继承+扩展）
    SALES_MGR --> PROJECT
    SALES_MGR --> CUSTOMER
    SALES_MGR --> QUOTE
    SALES_MGR --> FILE
    SALES_MGR --> REPORT

    %% 设计师权限
    DESIGNER -.-> PROJECT
    DESIGNER -.-> CUSTOMER
    DESIGNER --> FILE

    %% 财务权限
    FINANCE -.-> PROJECT
    FINANCE -.-> CUSTOMER
    FINANCE -.-> QUOTE
    FINANCE --> REPORT

    %% 系统管理员权限（全部）
    ADMIN --> PROJECT
    ADMIN --> CUSTOMER
    ADMIN --> QUOTE
    ADMIN --> FILE
    ADMIN --> REPORT

    %% 样式定义
    classDef roleNode fill:#e3f2fd,stroke:#1976d2,color:#000
    classDef resourceNode fill:#f3e5f5,stroke:#7b1fa2,color:#000
    classDef adminNode fill:#ffebee,stroke:#d32f2f,color:#000
    classDef legendNode fill:#fff3e0,stroke:#f57c00,color:#000

    class USER,SALES,SALES_MGR,DESIGNER,FINANCE roleNode
    class PROJECT,CUSTOMER,QUOTE,FILE,REPORT resourceNode
    class ADMIN adminNode
    class FULL,LIMITED,READONLY,DENIED legendNode
