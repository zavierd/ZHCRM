graph TB
    %% Role Inheritance
    subgraph roles ["Role Hierarchy"]
        USER[User]
        SALES[Sales]
        SALES_MGR[Sales Manager]
        DESIGNER[Designer]
        FINANCE[Finance]
        ADMIN[System Admin]

        USER --> SALES
        SALES --> SALES_MGR
        USER --> DESIGNER
        USER --> FINANCE
        USER --> ADMIN
    end

    %% System Resources
    subgraph resources ["System Resources"]
        PROJECT_CREATE[Create Project]
        PROJECT_VIEW[View Project]
        PROJECT_EDIT[Edit Project]
        PROJECT_DELETE[Delete Project]
        CUSTOMER_MGMT[Customer Management]
        QUOTE_EDIT[Quote Management]
        FILE_UPLOAD[File Upload]
        REPORT_EXPORT[Export Reports]
    end

    %% Permission Matrix
    subgraph permissions ["Permission Matrix"]
        PERM_MATRIX["
        Sales: ✅Create ✅View(Own) ✅Edit ❌Delete ✅Customer ✅Quote 🟡File ❌Report
        Sales Mgr: ✅Create ✅View(Team) ✅Edit 🟡Delete ✅Customer ✅Quote ✅File ✅Report
        Designer: ❌Create ✅View(Related) 🟡Edit(Design) ❌Delete 🟡Customer(Read) ❌Quote ✅File ❌Report
        Finance: ❌Create ✅View(Related) 🟡Edit(Price) ❌Delete 🟡Customer(Read) 🟡Quote(Review) ❌File ✅Report
        Admin: ✅All Permissions

        Legend: ✅Allow ❌Deny 🟡Conditional
        "]
    end

    %% Sales Permissions
    SALES -.-> PROJECT_CREATE
    SALES -.-> PROJECT_VIEW
    SALES -.-> PROJECT_EDIT
    SALES -.-> CUSTOMER_MGMT
    SALES -.-> QUOTE_EDIT

    %% Sales Manager Permissions (Inherits + Extended)
    SALES_MGR -.-> PROJECT_DELETE
    SALES_MGR -.-> FILE_UPLOAD
    SALES_MGR -.-> REPORT_EXPORT

    %% Designer Permissions
    DESIGNER -.-> PROJECT_VIEW
    DESIGNER -.-> PROJECT_EDIT
    DESIGNER -.-> FILE_UPLOAD

    %% Finance Permissions
    FINANCE -.-> PROJECT_VIEW
    FINANCE -.-> PROJECT_EDIT
    FINANCE -.-> QUOTE_EDIT
    FINANCE -.-> REPORT_EXPORT

    %% Admin Permissions (All)
    ADMIN -.-> PROJECT_CREATE
    ADMIN -.-> PROJECT_VIEW
    ADMIN -.-> PROJECT_EDIT
    ADMIN -.-> PROJECT_DELETE
    ADMIN -.-> CUSTOMER_MGMT
    ADMIN -.-> QUOTE_EDIT
    ADMIN -.-> FILE_UPLOAD
    ADMIN -.-> REPORT_EXPORT

    %% Styling
    classDef roleNode fill:#e3f2fd,stroke:#1976d2,color:#000
    classDef resourceNode fill:#f3e5f5,stroke:#7b1fa2,color:#000
    classDef adminNode fill:#ffebee,stroke:#d32f2f,color:#000
    classDef matrixNode fill:#fff3e0,stroke:#f57c00,color:#000

    class USER,SALES,SALES_MGR,DESIGNER,FINANCE roleNode
    class PROJECT_CREATE,PROJECT_VIEW,PROJECT_EDIT,PROJECT_DELETE,CUSTOMER_MGMT,QUOTE_EDIT,FILE_UPLOAD,REPORT_EXPORT resourceNode
    class ADMIN adminNode
    class PERM_MATRIX matrixNode
